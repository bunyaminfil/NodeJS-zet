<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Orchestly - Apps</title>
</head>

<body>
	<h2>This is a sample App built using ZET CLI.</h2>
</body>
<script src="https://localjs.zohostatic.com/blueprint/extension/ore1/js/orchestly.extension.client.sdk-0.1_min.js"></script>
<script>
	window.onload = function () {
        OrchestlySDK.init().then(function(App) {           
			
			//Get 
			OrchestlySDK.get('job.jobdetails').then(function (res) {
				//response Handling
			}).catch(function (err) {
				//error Handling
			});            
            
            //Set 
            var value = {};
            var key = "entity_property_key"
			OrchestlySDK.set('job.entityproperty',value,key).then(function (res) {
				//response Handling
			}).catch(function (err) {
				//error Handling
			});

			//Access Data Storage for an extension
           
            value = {};
            key = "data_storage"
            OrchestlySDK.store(key,value).then(function(){
                //response Handling
            }).catch(function (err) {
				//error Handling
			});          
			
			
			OrchestlySDK.retrieve({"key":"key_to_retrieve"}).then(function (response) {
				//response Handling
			}).catch(function (err) {
				//error Handling
            })

            OrchestlySDK.retrieveAll().then(function (response) {
				//response Handling
			}).catch(function (err) {
				//error Handling
            })
            

            //Request 3rd party api's
            var options = { url: "url_to_hit", type: "get/post" ,payload:"request_payload",parameters:{},headers:{}};
            OrchestlySDK.request(options).then(function (value) {
            //response Handling
            }).catch(function (err) {
            //error Handling
            })

            //remove a property
            parameter = "job.entityproperty";
            parameterId = "entitypropertyId"
            OrchestlySDK.destroy(parameter,parameterId).then(function (response) {
				//response Handling
			}).catch(function (err) {
				//error Handling
            })

		
		

		});
	}
</script>
</html>